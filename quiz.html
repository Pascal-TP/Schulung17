<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Quiz "Unterweisung - Winterzeit - Sicher zum Arbeitsplatz"</title>
  <style>
    body { font-family: sans-serif; padding: 20px; max-width: 800px; margin: auto; }
    .hidden { display: none; }
    h1, h2 { text-align: center; }
    label { display: block; margin: 5px 0; }
    .question { margin-bottom: 20px; }
    button { margin: 10px; padding: 10px 20px; font-size: 16px; }
    #logo { max-width: 300px; margin: 20px auto; display: block; }
    .result { font-size: 20px; text-align: center; margin-top: 30px; }
    @media print {
      button, .nav { display: none !important; }
    }
 .ergebnis-box {
  border: 3px solid #000;
  padding: 30px;
  margin-top: 20px;
  text-align: left;
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
  background-color: #fff;
}



 </style>
</head>
<body>

  <!-- STARTSEITE -->
  <div id="start-screen">
    <img id="logo" src="logo.png" alt="Firmenlogo">
    <h1>Willkommen zum Quiz: "Unterweisung - Winterzeit - Sicher zum Arbeitsplatz"</h1>
    <p>- Das Quiz besteht aus 4 Fragen, es k√∂nnen auch mehrere Antworten richtig sein.</p>
<p>- Bestanden ist dieses Quiz mit mindestens 3 richtig beantworteten Fragen.</p>
<p>- Sollten Sie nicht bestehen, m√ºssen Sie von vorne beginnen.</p>
<p>- Am Ende speichern Sie bitte Ihren Schulungsnachweis und senden diesen per E-Mail an Ihren Vorgesetzten.</p>
<p>  (W√§hlen Sie anstelle des Druckers "als pdf speichern" aus, um den Nachweis an einen beliebigen Ort zu speichern.)</p>
</br>
<p>Bitte geben Sie Ihren Namen und das aktuelle Datum ein, bevor Sie mit dem Quiz starten.</p>
</br>

    <label>Datum:
      <input type="date" id="input-datum" required>
    </label></br>
    <label>Name:
      <input type="text" id="input-name" required>
    </label></br>
    <button onclick="startQuiz()">Quiz starten</button>
  </div>

  <!-- FRAGEN -->
  <div id="quiz-screen" class="hidden">
<img id="logo" src="logo.png" alt="Firmenlogo">
    <div id="frage-container"></div>
    <div class="nav"></br>
      <button onclick="zurueckZumStart()">‚¨Ö Zur√ºck zum Start</button>
      <button onclick="naechsteFrage()">Weiter ‚û°</button>
    </div>
  </div>

  <!-- ERGEBNIS -->
  <div id="result-screen" class="hidden">
<div class="ergebnis-box"> 
    <img id="logo" src="logo.png" alt="Firmenlogo">
    <h1>Ergebnis</h1>
<h1>&</h1>
<h1>Schulungsnachweis</h1>
<h1>Unterweisung - Winterzeit - Sicher zum Arbeitsplatz</h1>
<h1>Der Besch√§ftigte wurde unterwiesen und hat an einer Kontrollpr√ºfung teilgenommen.</h1>

    <p><strong>Name:</strong> <span id="ausgabe-name"></span></p>
    <p><strong>Datum:</strong> <span id="ausgabe-datum"></span></p>
    <p><strong>Testergebnis:</strong> <span id="ausgabe-ergebnis"></span></p>
    <div class="result">
</br>
      <p>Mit dem Versenden der PDF-Datei best√§tige ich die Schulung selbst durchgef√ºhrt und die Inhalte verstanden zu haben.</p>
 </div>
    </div>
    <button onclick="window.print()">üíæ Als PDF speichern</button>
    <button onclick="location.reload()">üîÅ Neu starten</button>
    <button onclick="window.location.href='index.html'">Zur√ºck zum Skript</button>
  </div>

  <script>
    // ================================
    // QUIZ-FRAGEN DEFINIEREN
    // ================================
        const fragen = [
      {
        frage: "Stolper-, Rutsch- und Sturzunf√§lle ist eine der Unfallkategoieren, die sehr h√§ufig schwere und langfristige Folgen haben.",
        antworten: ["Jeder f√ºnfte Arbeitsunfall f√§llt in diese Kategorie.", "Jeder dritte Arbeitsunfall f√§llt in diese Kategorie.", "Diese Kategorie wird statistisch nicht erfasst, da die Anzahl nicht wesentlich ist."],
        richtig: [0]
      },
      {
        frage: "Was beachten Sie als Fu√üg√§nger unter anderem?",
        antworten: ["Machen Sie sich sichtbar.", "Tragen Sie geeignete Schuhe.", "Nutzen Sie den Radweg, da dieser immer gestreut ist."],
        richtig: [0, 1]
      },
      {
        frage: "Was beachten Sie als Radfahrer unter anderem?",
        antworten: ["Machen Sie sich sichtbar.", "Tragen Sie einen Helm und Kopfverletzungen bei einem m√∂glichen Sturz vorzubeugen.", "Ich achte stets auf eine funktionierende Beleuchtung."],
        richtig: [0, 1, 2]
      },
      {
        frage: "Was beachten Sie als Autofahere unter anderem?",
        antworten: ["Mit Winterreifen fahre ich immer sicher und muss mein Fahrweise den Gegebenheiten nicht anpassen.", "Nicht nur die Scheiben freimachen, sondern auch die Motorhaube und das Dach von Schnee befreien.", "Ich sorge f√ºr eine klare Sicht indem ich funktionierende Scheibenwischer und Frostschutz im Wischwasser habe."],
        richtig: [1, 2]
      },
      
    ];


    // ================================
    // VARIABLEN
    // ================================
    let aktuelleFrage = 0;
    let benutzerAntworten = [];
    let name = "";
    let datum = "";

    // ================================
    // STARTEN
    // ================================
    function startQuiz() {
      name = document.getElementById("input-name").value.trim();
      datum = document.getElementById("input-datum").value;

      if (!name || !datum) {
        alert("Bitte Name und Datum eingeben.");
        return;
      }

      document.getElementById("start-screen").classList.add("hidden");
      document.getElementById("quiz-screen").classList.remove("hidden");
      zeigeFrage();
    }

    function zurueckZumStart() {
      if (confirm("Willst du wirklich abbrechen und zum Start zur√ºckkehren?")) {
        location.reload();
      }
    }

    // ================================
    // FRAGE ZEIGEN
    // ================================
    function zeigeFrage() {
      const frageObj = fragen[aktuelleFrage];
      const container = document.getElementById("frage-container");
      container.innerHTML = `
        <h2>Frage ${aktuelleFrage + 1} von ${fragen.length}</h2>
        <p class="question">${frageObj.frage}</p>
        ${frageObj.antworten.map((antwort, i) => `
          <label>
            <input type="checkbox" name="antwort" value="${i}">
            ${antwort}
          </label>
        `).join("")}
      `;
    }

    // ================================
    // N√ÑCHSTE FRAGE ODER AUSWERTUNG
    // ================================
    function naechsteFrage() {
      const auswahl = Array.from(document.querySelectorAll('input[name="antwort"]:checked')).map(el => parseInt(el.value));
      benutzerAntworten[aktuelleFrage] = auswahl;

      aktuelleFrage++;

      if (aktuelleFrage < fragen.length) {
        zeigeFrage();
      } else {
        auswertung();
      }
    }

    // ================================
    // AUSWERTUNG
    // ================================
    function auswertung() {
      document.getElementById("quiz-screen").classList.add("hidden");
      document.getElementById("result-screen").classList.remove("hidden");

      let punkte = 0;

      fragen.forEach((frage, index) => {
        const richtig = frage.richtig.sort().join();
        const gegeben = (benutzerAntworten[index] || []).sort().join();
        if (richtig === gegeben) {
          punkte++;
        }
      });

      const bestanden = punkte >= 3;

      document.getElementById("ausgabe-name").textContent = name;
      document.getElementById("ausgabe-datum").textContent = datum;
      document.getElementById("ausgabe-ergebnis").textContent = bestanden
        ? `‚úÖ Bestanden (${punkte} von ${fragen.length} richtig)`
        : `‚ùå Leider nicht bestanden (${punkte} von ${fragen.length} richtig)`;
    }
  </script>
</body>
</html>
